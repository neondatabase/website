---
description: Neon extension v1.13, Customer Managed Keys for safekeeper operations, automatic WAL-to-delta conversion, main branch data prioritization, Azure serverless platform support, and more
---

### Neon extension v1.13 with wait event statistics

The Neon extension has been updated to version 1.13, adding wait event statistics tracking similar to Aurora's `aurora_wait_report()`. You can now query detailed wait event data to understand where your backends spend time—whether waiting on I/O, locks, IPC, or Neon-specific operations. New SQL functions let you inspect system-wide statistics (`neon_get_wait_event_stats()`), per-backend statistics (`neon_get_backend_wait_event_stats()`), and compute delta reports over time (`neon_wait_report()`, `neon_backend_wait_report()`). This helps with performance troubleshooting and optimization. Available on PostgreSQL 16+.

For more information, see [Neon Extension](https://neon.tech/docs/extensions/neon).

### Customer Managed Keys support for safekeeper operations

Safekeeper now supports Customer Managed Keys (CMK) for timeline copy and pull operations. This extends encryption support to critical data management workflows, ensuring that data in transit during timeline operations respects your encryption policies. Organizations using CMK for security and compliance can now manage timelines with full encryption coverage.

### Filesystem encryption enabled by default

Filesystem encryption (fscrypt) is now enabled on all compute devices by default, providing an additional layer of security for data at rest. This update also fixes a safekeeper argument override issue, ensuring correct configuration during setup.

### Automatic WAL-to-delta conversion

Neon now automatically converts WAL (Write-Ahead Logs) to delta format using a background worker. Previously, users needed to manually call `wal2delta.init()` and `wal2delta.write_changes()` functions. The new background worker handles this automatically, reducing manual overhead and improving the user experience when working with delta-optimized storage. The delta writer has also been upgraded to version 2.0 with improved writing logic, completing the automation of delta format conversion. Delta format provides more efficient storage and faster query performance compared to standard WAL.

### Main branch data prioritization in storage layer

Neon now prioritizes main branch data when managing storage, ensuring that the data you depend on for performant reads is not evicted from local disk. The system intelligently identifies the main branch and applies prioritization rules across all eviction scenarios—TTL eviction, disk usage eviction, and secondary location handling. This provides a soft commitment that critical workloads on your main branch will maintain performance.

### Azure serverless platform support

Neon's Serverless Platform now supports Azure deployments. The deployment code now handles Azure Blob Storage authentication using service principal credentials with static certificates, generates Azure-specific remote storage configuration for pageserver and safekeeper, and properly manages LoadBalancer hostname/IP address resolution for Azure infrastructure. This enables organizations using Azure to deploy and manage Neon Serverless Platform workloads on Azure infrastructure.

### Inkeep AI assistant now available in Console

We've integrated Inkeep as an alternative AI assistant solution in the Neon Console. Users can access Inkeep through the "Get help" menu, providing another way to get assistance with Neon features and best practices. The assistant integrates with the support ticket system, allowing thread IDs to be passed directly to support cases.

### Data masking: Protect foreign key columns

We've improved the data masking feature to prevent masking columns that are part of foreign key constraints. When you encounter a column with a foreign key constraint, the Console now displays an alert with guidance to mask the primary key instead. The interface will scroll and highlight the relevant primary key when you click "go to primary key", making it easier to apply masking rules correctly.

For more information, see [Data masking documentation](/docs/security/data-masking).

<details>
<summary>**Fixes & improvements**</summary>

- **Neon MCP Server:** Fixed an issue where the MCP server would crash when handling project-scoped API keys. Project-scoped API keys are now properly validated and processed.

- **CLI:**
  - Fixed a misleading "org_id is required" error message that appeared when running project-scoped commands like `neon branches list` without the `--project-id` flag. The CLI now auto-fills the organization ID for single-organization users and provides clearer error messages that reference `--project-id` instead of the internal `org_id` parameter.
  - The `neon init` command now supports Node.js version 24, ensuring compatibility with the latest Node.js release.

- **Storage:** Fixed an issue where endpoints with replica promotion enabled would incorrectly display duplicate replication slots (named `wal_proposer`) when queried with `SELECT * from pg_replication_slots` after a restart via the Public API or admin interface.

- **Console:**
  - **Neon Auth & Vercel integration:**
    - Updated Neon Auth trusted domains with Vercel domains for improved integration
    - Updated trusted domains for Vercel production environment
    - Enabled auth toggle on project creation, allowing users to enable Neon Auth when creating new projects
    - Fixed auth provisioning when branch has no parent
    - Removed user permission checks for Neon Auth on branching
    - Disabled Neon Auth for Data API on Azure
  - **Integration & connections:**
    - Display error messages on integration cards when integration limits are exceeded
    - Project-scoped API keys can now read Data API status
  - **API & data features:**
    - Added batch branch count endpoint for Console
    - Foreign key constraint information is now returned in GetBranchSchema API
    - Fixed editing DB role not appearing in PrincipalSelect
    - Fixed: project.created_by field now reflects the actor
  - **Streaming tables & features:**
    - Properly gate streaming tables menu item
    - Check for pipeline ID for streaming menu item visibility
    - Temporarily hide streaming tables action
    - Allow MenuItem as render function
  - **Compute & performance:**
    - Fixed CU/RAM ratio calculation for provisioned instances
  - **Provisioned instances:**
    - Show autoscaling-unavailable regions with provisioned UI
    - Align all provisioned instance pages to have breadcrumbs
    - Update section title for provisioned databases
    - Adjust sidebar section title for provisioned instances
    - Open newly created provisioned instance after creation
    - Disable Roles page when provisioned instance unavailable
  - **UI/UX improvements:**
    - Updated Neon logo and favicon (feature-flagged)
    - Adjust new logo color
    - Use new brand logo everywhere
    - Replace old favicon with new one
    - Bust favicon cache
    - Inkeep assistant fixes after production testing
    - Updated authentication page design (preview)
    - Rename "branch" to "main" in UI
    - Hide OAuth credentials from organization members
    - Fixed: OAuth roles labeled as Postgres roles
    - Adjust monitoring page title
    - Fix missing "View supported regions" link
    - Disable "Create" catalog button
    - Add analytics for empty state clicks in auth
    - Update button styles
    - Update NumberInput appearance
    - Use danger menu items in appropriate places
    - Fix capacity field description copy
    - Fixed typos: acknowledge and OK
    - Update and add color and gap tokens
    - Use Button's loading prop for SubmitButton
    - Disable HubSpot syncing jobs

</details>
